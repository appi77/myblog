<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>RDBMS &#8211; 山情</title>
	<atom:link href="https://github.com/appi77/myblog/category/si-technology/rdbms/feed/" rel="self" type="application/rss+xml" />
	<link>http://github.com/appi77/myblog/</link>
	<description>산정의 블로그</description>
	<lastBuildDate>Mon, 01 Apr 2019 06:10:36 +0000</lastBuildDate>
	<language>ko-KR</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=5.3.2</generator>

<image>
	<url>https://github.com/appi77/myblog/wordpress/wp-content/uploads/2016/07/cropped-20160505_122002-32x32.jpg</url>
	<title>RDBMS &#8211; 山情</title>
	<link>http://github.com/appi77/myblog/</link>
	<width>32</width>
	<height>32</height>
</image> 
	<item>
		<title>문제 있는 쿼리 찾기</title>
		<link>https://github.com/appi77/myblog/si-technology/rdbms/%eb%ac%b8%ec%a0%9c-%ec%9e%88%eb%8a%94-%ec%bf%bc%eb%a6%ac-%ec%b0%be%ea%b8%b0/</link>
				<pubDate>Mon, 01 Apr 2019 05:49:35 +0000</pubDate>
		<dc:creator><![CDATA[박경원]]></dc:creator>
				<category><![CDATA[RDBMS]]></category>
		<category><![CDATA[oralce]]></category>
		<category><![CDATA[sql]]></category>
		<category><![CDATA[tunning]]></category>

		<guid isPermaLink="false">https://github.com/appi77/myblog/?p=611</guid>
				<description><![CDATA[SELECT q.cpu_x, q.execs, t.sql_text, q.* FROM ( SELECT q.dbid, q.instance_number, q.sql_id, MAX(q.optimizer_mode) optmode, MAX(q.module) module, MAX(q.action) action, MAX(q.force_matching_signature) force_matching_signature, MAX(q.parsing_schema_name) parse_schema, SUM(q.executions_delta) execs, SUM(q.disk_reads_delta) dreads, SUM(q.buffer_gets_delta) bgets, SUM(q.rows_processed_delta) rows_processed, SUM(q.cpu_time_delta) cpu, SUM(q.elapsed_time_delta) elapsed, SUM(q.iowait_delta)&#46;&#46;&#46;]]></description>
								<content:encoded><![CDATA[<p>SELECT<br />
q.cpu_x,<br />
q.execs,<br />
t.sql_text,<br />
q.*<br />
FROM ( SELECT<br />
q.dbid,<br />
q.instance_number,<br />
q.sql_id,<br />
MAX(q.optimizer_mode) optmode,<br />
MAX(q.module) module,<br />
MAX(q.action) action,<br />
MAX(q.force_matching_signature) force_matching_signature,<br />
MAX(q.parsing_schema_name) parse_schema,<br />
SUM(q.executions_delta) execs,<br />
SUM(q.disk_reads_delta) dreads,<br />
SUM(q.buffer_gets_delta) bgets,<br />
SUM(q.rows_processed_delta) rows_processed,<br />
SUM(q.cpu_time_delta) cpu,<br />
SUM(q.elapsed_time_delta) elapsed,<br />
SUM(q.iowait_delta) iowait,<br />
SUM(q.clwait_delta) clwait,<br />
SUM(q.apwait_delta) apwait,<br />
SUM(q.ccwait_delta) ccwait,<br />
SUM(q.direct_writes_delta) direct_writes,<br />
SUM(q.plsexec_time_delta) plsexec_time,<br />
SUM(q.javexec_time_delta) javaexec_time,<br />
SUM(q.disk_reads_delta) / DECODE(SUM(q.executions_delta),0,1,NULL,1,SUM(q.executions_delta) ) dreads_x,<br />
SUM(q.buffer_gets_delta) / DECODE(SUM(q.executions_delta),0,1,NULL,1,SUM(q.executions_delta) ) bgets_x,<br />
SUM(q.rows_processed_delta) / DECODE(SUM(q.executions_delta),0,1,NULL,1,SUM(q.executions_delta) ) rows_x,<br />
( SUM(q.cpu_time_delta) / DECODE(SUM(q.executions_delta),0,1,NULL,1,SUM(q.executions_delta) ) ) / 1000000 cpu_x,<br />
( SUM(q.elapsed_time_delta) / DECODE(SUM(q.executions_delta),0,1,NULL,1,SUM(q.executions_delta) ) ) / 1000000 elapsed_x,<br />
( SUM(q.iowait_delta) / DECODE(SUM(q.executions_delta),0,1,NULL,1,SUM(q.executions_delta) ) ) / 1000000 iowait_x,<br />
( SUM(q.clwait_delta) / DECODE(SUM(q.executions_delta),0,1,NULL,1,SUM(q.executions_delta) ) ) / 1000000 clwait_x,<br />
( SUM(q.apwait_delta) / DECODE(SUM(q.executions_delta),0,1,NULL,1,SUM(q.executions_delta) ) ) / 1000000 apwait_x,<br />
( SUM(q.ccwait_delta) / DECODE(SUM(q.executions_delta),0,1,NULL,1,SUM(q.executions_delta) ) ) / 1000000 ccwait_x,<br />
SUM(q.direct_writes_delta) / DECODE(SUM(q.executions_delta),0,1,NULL,1,SUM(q.executions_delta) ) direct_writes_x,<br />
( SUM(q.plsexec_time_delta) / DECODE(SUM(q.executions_delta),0,1,NULL,1,SUM(q.executions_delta) ) ) / 1000000 plsexec_time_x,<br />
( SUM(q.javexec_time_delta) / DECODE(SUM(q.executions_delta),0,1,NULL,1,SUM(q.executions_delta) ) ) / 1000000 javaexec_time_x<br />
FROM<br />
dba_hist_snapshot s,<br />
dba_hist_sqlstat q<br />
WHERE<br />
s.dbid = q.dbid<br />
AND s.instance_number = q.instance_number<br />
AND s.snap_id = q.snap_id<br />
AND TO_CHAR( s.begin_interval_time,&#8217;yyyy/mm/dd HH24:MI:SS&#8217;) BETWEEN &#8216;2019/03/26 20:00:00&#8217; AND &#8216;2019/04/01 23:59:59&#8217;<br />
GROUP BY Q.DBID, Q.INSTANCE_NUMBER, Q.SQL_ID</p>
<p>) Q, DBA_HIST_SQLTEXT T<br />
WHERE Q.DBID = T.DBID<br />
AND Q.SQL_ID = T.SQL_ID<br />
AND Q.CPU_X &gt; 2<br />
AND Q.EXECS &gt; 1<br />
&#8211;and T.SQL_TEXT like &#8216;select all df1.r_object_id%&#8217;<br />
and module in ( &#8216;documentum.exe&#8217;, &#8216;jdbc thin client&#8217; ) order by q.execs desc</p>
]]></content:encoded>
										</item>
		<item>
		<title>SQL_PROFILE을 통한 비효율SQL 문장 plan fix</title>
		<link>https://github.com/appi77/myblog/si-technology/rdbms/sql_profile%ec%9d%84-%ed%86%b5%ed%95%9c-%eb%b9%84%ed%9a%a8%ec%9c%a8sql-%eb%ac%b8%ec%9e%a5-plan-fix/</link>
				<pubDate>Thu, 28 Mar 2019 06:02:38 +0000</pubDate>
		<dc:creator><![CDATA[박경원]]></dc:creator>
				<category><![CDATA[RDBMS]]></category>

		<guid isPermaLink="false">https://github.com/appi77/myblog/?p=599</guid>
				<description><![CDATA[&#8212; 문제된 SQL 확인 &#8212; SQL_ID 및 FULL_TEXT 확인 SELECT SQL_ID, SQL_TEXT, SQL_FULLTEXT FROM V$SQL WHERE SQL_TEXT LIKE &#8216;%DEPT D%&#8217; ; &#8212; 튜닝된 SQL 실행 SELECT /*+FIRST_ROWS*/ * FROM DUAL WHERE ROWNUM &#60;= 101&#46;&#46;&#46;]]></description>
								<content:encoded><![CDATA[<p>&#8212; 문제된 SQL 확인<br />
&#8212; SQL_ID 및 FULL_TEXT 확인<br />
SELECT SQL_ID,</p>
<p>SQL_TEXT,</p>
<p>SQL_FULLTEXT</p>
<p>FROM V$SQL</p>
<p>WHERE SQL_TEXT LIKE &#8216;%DEPT D%&#8217;<br />
;</p>
<p>&#8212; 튜닝된 SQL 실행<br />
SELECT<br />
/*+FIRST_ROWS*/ *<br />
FROM DUAL<br />
WHERE<br />
ROWNUM &lt;= 101<br />
;<br />
&#8212; Outline Data 추출<br />
SELECT PLAN_TABLE_OUTPUT FROM TABLE(DBMS_XPLAN.DISPLAY_CURSOR(NULL, NULL, &#8216;OUTLINE&#8217;));</p>
<p>&#8211;Outline Data<br />
&#8212;&#8212;&#8212;&#8212;-</p>
<p>/*+<br />
BEGIN_OUTLINE_DATA<br />
IGNORE_OPTIM_EMBEDDED_HINTS<br />
OPTIMIZER_FEATURES_ENABLE(&#8216;11.2.0.4&#8217;)<br />
DB_VERSION(&#8216;11.2.0.4&#8217;)<br />
OPT_PARAM(&#8216;_b_tree_bitmap_plans&#8217; &#8216;false&#8217;)<br />
OPT_PARAM(&#8216;_complex_view_merging&#8217; &#8216;false&#8217;)<br />
OPT_PARAM(&#8216;_optim_peek_user_binds&#8217; &#8216;false&#8217;)<br />
OPT_PARAM(&#8216;_optimizer_push_pred_cost_based&#8217; &#8216;false&#8217;)<br />
OPT_PARAM(&#8216;_optimizer_null_aware_antijoin&#8217; &#8216;false&#8217;)<br />
OPT_PARAM(&#8216;_bloom_filter_enabled&#8217; &#8216;false&#8217;)<br />
OPT_PARAM(&#8216;_optimizer_extended_cursor_sharing&#8217; &#8216;none&#8217;)<br />
OPT_PARAM(&#8216;_optimizer_connect_by_cost_based&#8217; &#8216;false&#8217;)<br />
OPT_PARAM(&#8216;_optimizer_extended_cursor_sharing_rel&#8217; &#8216;none&#8217;)<br />
OPT_PARAM(&#8216;_optimizer_adaptive_cursor_sharing&#8217; &#8216;false&#8217;)<br />
OPT_PARAM(&#8216;_optimizer_use_feedback&#8217; &#8216;false&#8217;)<br />
OPT_PARAM(&#8216;star_transformation_enabled&#8217; &#8216;true&#8217;)<br />
FIRST_ROWS<br />
OUTLINE_LEAF(@&#8221;SEL$335DD26A&#8221;)<br />
MERGE(@&#8221;SEL$3&#8243;)<br />
OUTLINE_LEAF(@&#8221;SEL$1&#8243;)<br />
OUTLINE(@&#8221;SEL$2&#8243;)<br />
OUTLINE(@&#8221;SEL$3&#8243;)<br />
NO_ACCESS(@&#8221;SEL$1&#8243; &#8220;from$_subquery$_001&#8243;@&#8221;SEL$1&#8243;)<br />
INDEX_RS_ASC(@&#8221;SEL$335DD26A&#8221; &#8220;BH_&#8221;@&#8221;SEL$3&#8221; (&#8220;DM_SYSOBJECT_S&#8221;.&#8221;I_CABINET_ID&#8221; &#8220;DM_SYSOBJECT_S&#8221;.&#8221;R_CREATION_DATE&#8221;<br />
&#8220;DM_SYSOBJECT_S&#8221;.&#8221;OWNER_NAME&#8221; &#8220;DM_SYSOBJECT_S&#8221;.&#8221;GROUP_NAME&#8221; &#8220;DM_SYSOBJECT_S&#8221;.&#8221;TITLE&#8221;))<br />
INDEX(@&#8221;SEL$335DD26A&#8221; &#8220;TT_&#8221;@&#8221;SEL$3&#8221; (&#8220;UD_DOCUMENT_S&#8221;.&#8221;R_OBJECT_ID&#8221;))<br />
LEADING(@&#8221;SEL$335DD26A&#8221; &#8220;BH_&#8221;@&#8221;SEL$3&#8221; &#8220;TT_&#8221;@&#8221;SEL$3&#8243;)<br />
USE_NL(@&#8221;SEL$335DD26A&#8221; &#8220;TT_&#8221;@&#8221;SEL$3&#8243;)<br />
NLJ_BATCHING(@&#8221;SEL$335DD26A&#8221; &#8220;TT_&#8221;@&#8221;SEL$3&#8221;)<br />
END_OUTLINE_DATA<br />
*/</p>
<p>&#8211;SQL_PROFILE 등록<br />
DECLARE<br />
V_SQL_TEXT CLOB;<br />
BEGIN<br />
SELECT SQL_FULLTEXT<br />
INTO V_SQL_TEXT<br />
FROM V$SQL<br />
WHERE SQL_ID = &#8216;f76yur0mc5qrz&#8217;<br />
AND ROWNUM=1;</p>
<p>DBMS_SQLTUNE.IMPORT_SQL_PROFILE(<br />
NAME =&gt; &#8216;MY_PROFILE_1&#8217;,<br />
DESCRIPTION =&gt; &#8216;MY_PROFILE_1&#8217;,<br />
CATEGORY =&gt; &#8216;MY_PROFILE_1&#8217;,<br />
SQL_TEXT =&gt; V_SQL_TEXT,<br />
PROFILE =&gt; SQLPROF_ATTR(&#8216;FIRST_ROWS&#8217;<br />
),<br />
REPLACE =&gt; TRUE,<br />
FORCE_MATCH =&gt; TRUE &#8212; CURSOR_SHARING 기능 사용<br />
);<br />
END;<br />
/</p>
<p>&#8212; SQL_PROFILE 확인<br />
select * from DBA_SQL_PROFILES;<br />
&#8211;기존 SQL_PROFILE 삭제<br />
EXEC DBMS_SQLTUNE.DROP_SQL_PROFILE(NAME =&gt;&#8217;MY_PROFILE_1&#8242;);<br />
&#8211;SQL_PROFILE DISABLE<br />
EXEC DBMS_SQLTUNE.ALTER_SQL_PROFILE (NAME =&gt;&#8217;MY_PROFILE_1&#8242;,ATTRIBUTE_NAME=&gt;&#8217;STATUS&#8217;,VALUE=&gt;&#8217;DISABLED&#8217;);<br />
&#8212; SQL_PROFILE 활성화<br />
ALTER SESSION SET SQLTUNE_CATEGORY = MY_PROFILE_1 ;<br />
&#8212; 비활성화<br />
ALTER SESSION SET SQLTUNE_CATEGORY = FALSE;</p>
]]></content:encoded>
										</item>
		<item>
		<title>오라클 파티션</title>
		<link>https://github.com/appi77/myblog/si-technology/rdbms/%ec%98%a4%eb%9d%bc%ed%81%b4-%ed%8c%8c%ed%8b%b0%ec%85%98/</link>
				<comments>https://github.com/appi77/myblog/si-technology/rdbms/%ec%98%a4%eb%9d%bc%ed%81%b4-%ed%8c%8c%ed%8b%b0%ec%85%98/#comments</comments>
				<pubDate>Wed, 21 Nov 2018 04:15:42 +0000</pubDate>
		<dc:creator><![CDATA[박경원]]></dc:creator>
				<category><![CDATA[RDBMS]]></category>

		<guid isPermaLink="false">https://github.com/appi77/myblog/?p=470</guid>
				<description><![CDATA[http://www.gurubee.net/lecture/2920]]></description>
								<content:encoded><![CDATA[<p>http://www.gurubee.net/lecture/2920</p>
]]></content:encoded>
							<wfw:commentRss>https://github.com/appi77/myblog/si-technology/rdbms/%ec%98%a4%eb%9d%bc%ed%81%b4-%ed%8c%8c%ed%8b%b0%ec%85%98/feed/</wfw:commentRss>
		<slash:comments>1</slash:comments>
							</item>
	</channel>
</rss>
